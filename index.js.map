{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = \"46813790-fc5a4239c1de7fc02896691e1\";\nconst BASE_URL = \"https://pixabay.com/api/\"\n\n\nexport function fetchData(searchData) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: searchData,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    })\n\n    return fetch(`${BASE_URL}?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText)\n            }\n            return response.json();   \n        })\n    \n}","const loader = document.querySelector(\".loader\");\n\nexport function createMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n        <li class=\"gallery-item\">\n            <div class=\"thumb\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n            </a>\n            </div>\n            <div class=\"image-card\">\n                <p><b>Likes</b> ${likes}</p> \n                <p><b>Views</b> ${views}</p> \n                <p><b>Comments</b> ${comments}</p> \n                <p><b>Downloads</b> ${downloads}</p> \n            </div>\n        </li>\n    `).join(\"\")\n}\n\nexport function showLoader() {\n    loader.style.display = \"block\";\n}\n\nexport function hideLoader() {\n    loader.style.display = \"none\";\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport \"loaders.css/loaders.min.css\"\n\nimport { fetchData } from \"./js/pixabay-api\";\nimport { createMarkup, showLoader, hideLoader } from \"./js/render-functions\";\n\n\nconst form = document.querySelector(\".search-form\");\nconst gallery = document.querySelector(\".gallery\");\n\n\nlet galleryImage = new SimpleLightbox(\".gallery a\", {\n    captionsData: \"alt\",\n    captionDelay: 250,\n    captionPosition: \"bottom\",\n});\n\n\nform.addEventListener(\"submit\", handleSearch);\n\nfunction handleSearch(event) {\n    event.preventDefault();\n    console.log(event.currentTarget.elements);\n    \n    showLoader();\n    \n    const searchData = event.currentTarget.elements.search.value;\n    console.log(searchData);\n    if (!searchData.trim()) {\n        iziToast.show({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\",\n            timeout: 5000,\n            backgroundColor: \"pink\"\n        })\n        return;\n        }\n\n    fetchData(searchData)\n        .then((data) => {\n            console.log(\"then\", data);\n            gallery.innerHTML = createMarkup(data.hits);\n            if (data.hits.length <= 0) {\n                iziToast.show({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\",\n            timeout: 5000,\n            backgroundColor: \"pink\"\n        })\n            }\n            galleryImage.refresh();\n        })\n        .catch(error => {\n            console.log(\"catch\", error);\n            \n        })\n        .finally(() => hideLoader()\n    )\n    form.reset();\n}\n"],"names":["API_KEY","BASE_URL","fetchData","searchData","params","response","loader","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showLoader","hideLoader","form","gallery","galleryImage","SimpleLightbox","handleSearch","event","iziToast","data","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAGV,SAASC,EAAUC,EAAY,CAClC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAC/B,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAS,CAET,CCrBA,MAAMC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAaC,EAAK,CAC9B,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA;AAAA,4CAGpDL,CAAa;AAAA,8CACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,kCAItCC,CAAK;AAAA,kCACLC,CAAK;AAAA,qCACFC,CAAQ;AAAA,sCACPC,CAAS;AAAA;AAAA;AAAA,KAG1C,EAAE,KAAK,EAAE,CACd,CAEO,SAASC,GAAa,CACzBV,EAAO,MAAM,QAAU,OAC3B,CAEO,SAASW,GAAa,CACzBX,EAAO,MAAM,QAAU,MAC3B,CCdA,MAAMY,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAGjD,IAAIC,EAAe,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,gBAAiB,QACrB,CAAC,EAGDH,EAAK,iBAAiB,SAAUI,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,QAAQ,IAAIA,EAAM,cAAc,QAAQ,EAExCP,IAEA,MAAMb,EAAaoB,EAAM,cAAc,SAAS,OAAO,MAEvD,GADA,QAAQ,IAAIpB,CAAU,EAClB,CAACA,EAAW,OAAQ,CACpBqB,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,WACV,QAAS,IACT,gBAAiB,MAC7B,CAAS,EACD,MACC,CAELtB,EAAUC,CAAU,EACf,KAAMsB,GAAS,CACZ,QAAQ,IAAI,OAAQA,CAAI,EACxBN,EAAQ,UAAYZ,EAAakB,EAAK,IAAI,EACtCA,EAAK,KAAK,QAAU,GACpBD,EAAS,KAAK,CAClB,QAAS,2EACT,SAAU,WACV,QAAS,IACT,gBAAiB,MAC7B,CAAS,EAEGJ,EAAa,QAAO,CAChC,CAAS,EACA,MAAMM,GAAS,CACZ,QAAQ,IAAI,QAASA,CAAK,CAEtC,CAAS,EACA,QAAQ,IAAMT,EAAY,CAC9B,EACDC,EAAK,MAAK,CACd"}